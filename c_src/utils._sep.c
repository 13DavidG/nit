/* This C file is generated by NIT to compile module utils. */
#include "utils._sep.h"
val_t utils___Object___cmangle(val_t  self, val_t  param0) {
  struct trace_t trace = {NULL, NULL, 21, LOCATE_utils___Object___cmangle};
  static val_t once_value_1; static int once_bool_1; /* Once value for variable[4]*/
  val_t variable[17];
  void **closurevariable = NULL;
  trace.prev = tracehead; tracehead = &trace;
  trace.file = LOCATE_utils;
  variable[0] =  self;
  /* check if p<Array[Symbol] with p:Symbol */
  if (( param0!=NIT_NULL) && !VAL_ISA( param0, COLOR_Array, ID_Array)) { fprintf(stderr, "Cast failled"); fprintf(stderr, " in %s (%s:%d)\n", LOCATE_utils___Object___cmangle, LOCATE_utils, 22); nit_exit(1); } /*cast Array[Symbol]*/;
  variable[1] =  param0;
  if (once_bool_1) variable[4] = once_value_1;
  else {
    variable[4] = variable[0];
    variable[4] = CALL_utils___Object___cmangle_table(variable[4])(variable[4]) /*Object::cmangle_table*/;
    once_value_1 = variable[4];
    once_bool_1 = true;
  }
  variable[3] = variable[4];
  variable[5] = NEW_String_string___String___init(); /*new String*/
  variable[4] = variable[5];
  variable[5] = CALL_abstract_collection___Collection___iterator( variable[1] /*symbols*/)( variable[1] /*symbols*/) /*AbstractArray::iterator*/;
  while (true) { /*for*/
    variable[6] = CALL_abstract_collection___Iterator___is_ok(variable[5])(variable[5]) /*ArrayIterator::is_ok*/;
    if (!UNTAG_Bool(variable[6])) break; /*for*/
    variable[6] = CALL_abstract_collection___Iterator___item(variable[5])(variable[5]) /*ArrayIterator::item*/;
    variable[7] = variable[6];
    variable[8] = CALL_abstract_collection___Collection___is_empty( variable[4] /*res*/)( variable[4] /*res*/) /*AbstractArray::is_empty*/;
    if (UNTAG_Bool( TAG_Bool(!UNTAG_Bool(variable[8])))) { /*if*/
      CALL_abstract_collection___SimpleCollection___add( variable[4] /*res*/)( variable[4] /*res*/,  TAG_Char('_')) /*String::add*/;
      CALL_abstract_collection___SimpleCollection___add( variable[4] /*res*/)( variable[4] /*res*/,  TAG_Char('_')) /*String::add*/;
      CALL_abstract_collection___SimpleCollection___add( variable[4] /*res*/)( variable[4] /*res*/,  TAG_Char('_')) /*String::add*/;
    }
    variable[8] =  TAG_Bool(false);
    variable[9] =  TAG_Bool(true);
    variable[11] = CALL_string___Object___to_s( variable[7] /*sym*/)( variable[7] /*sym*/) /*Symbol::to_s*/;
    variable[10] = variable[11];
    variable[11] = CALL_abstract_collection___Collection___iterator( variable[10] /*s*/)( variable[10] /*s*/) /*AbstractArray::iterator*/;
    while (true) { /*for*/
      variable[12] = CALL_abstract_collection___Iterator___is_ok(variable[11])(variable[11]) /*ArrayIterator::is_ok*/;
      if (!UNTAG_Bool(variable[12])) break; /*for*/
      variable[12] = CALL_abstract_collection___Iterator___item(variable[11])(variable[11]) /*ArrayIterator::item*/;
      variable[13] = variable[12];
      variable[14] = TAG_Bool(UNTAG_Char( variable[13] /*c*/)>=UNTAG_Char( TAG_Char('a')));
      variable[15] = variable[14];
      if (UNTAG_Bool(variable[15])) { /* and */
        variable[15] = TAG_Bool(UNTAG_Char( variable[13] /*c*/)<=UNTAG_Char( TAG_Char('z')));
      }
      variable[14] = variable[15];
      variable[15] = variable[14];
      if (!UNTAG_Bool(variable[15])) { /* or */
        variable[15] = TAG_Bool(UNTAG_Char( variable[13] /*c*/)>=UNTAG_Char( TAG_Char('A')));
        variable[16] = variable[15];
        if (UNTAG_Bool(variable[16])) { /* and */
          variable[16] = TAG_Bool(UNTAG_Char( variable[13] /*c*/)<=UNTAG_Char( TAG_Char('Z')));
        }
        variable[15] = variable[16];
      }
      variable[14] = variable[15];
      variable[15] = variable[14];
      if (!UNTAG_Bool(variable[15])) { /* or */
        variable[15] = TAG_Bool(UNTAG_Char( variable[13] /*c*/)>=UNTAG_Char( TAG_Char('0')));
        variable[16] = variable[15];
        if (UNTAG_Bool(variable[16])) { /* and */
          variable[16] = TAG_Bool(UNTAG_Char( variable[13] /*c*/)<=UNTAG_Char( TAG_Char('9')));
        }
        variable[15] = variable[16];
      }
      variable[14] = variable[15];
      if (UNTAG_Bool(variable[14])) { /*if*/
        CALL_abstract_collection___SimpleCollection___add( variable[4] /*res*/)( variable[4] /*res*/,  variable[13] /*c*/) /*String::add*/;
        variable[8] =  TAG_Bool(false) /*underscore=*/;
        variable[9] =  TAG_Bool(true) /*normal=*/;
      } else { /*if*/
        variable[14] = TAG_Bool(( variable[13] /*c*/)==( TAG_Char('_')));
        variable[15] = variable[14];
        if (UNTAG_Bool(variable[15])) { /* and */
          variable[15] =  TAG_Bool(!UNTAG_Bool( variable[8] /*underscore*/));
        }
        variable[14] = variable[15];
        if (UNTAG_Bool(variable[14])) { /*if*/
          CALL_abstract_collection___SimpleCollection___add( variable[4] /*res*/)( variable[4] /*res*/,  variable[13] /*c*/) /*String::add*/;
          variable[8] =  TAG_Bool(true) /*underscore=*/;
          variable[9] =  TAG_Bool(true) /*normal=*/;
        } else { /*if*/
          variable[14] = CALL_abstract_collection___Map___has_key( variable[3] /*table*/)( variable[3] /*table*/,  variable[13] /*c*/) /*CoupleMap::has_key*/;
          if (UNTAG_Bool(variable[14])) { /*if*/
            if (UNTAG_Bool( variable[9] /*normal*/)) { /*if*/
              CALL_abstract_collection___SimpleCollection___add( variable[4] /*res*/)( variable[4] /*res*/,  TAG_Char('_')) /*String::add*/;
              CALL_abstract_collection___SimpleCollection___add( variable[4] /*res*/)( variable[4] /*res*/,  TAG_Char('_')) /*String::add*/;
            }
            variable[14] = CALL_abstract_collection___Map_____bra( variable[3] /*table*/)( variable[3] /*table*/,  variable[13] /*c*/) /*CoupleMap::[]*/;
            CALL_abstract_collection___IndexedCollection___append( variable[4] /*res*/)( variable[4] /*res*/, variable[14]) /*String::append*/;
            variable[9] =  TAG_Bool(false) /*normal=*/;
            variable[8] =  TAG_Bool(false) /*underscore=*/;
          }
        }
      }
      continue_3: while(0);
      CALL_abstract_collection___Iterator___next(variable[11])(variable[11]) /*ArrayIterator::next*/;
    }
    break_3: while(0);
    continue_2: while(0);
    CALL_abstract_collection___Iterator___next(variable[5])(variable[5]) /*ArrayIterator::next*/;
  }
  break_2: while(0);
  variable[2] =  variable[4] /*res*/;
  goto return_label0;
  return_label0: while(false);
  tracehead = trace.prev;
  return variable[2];
}
val_t utils___Object___cmangle_table(val_t  self) {
  struct trace_t trace = {NULL, NULL, 58, LOCATE_utils___Object___cmangle_table};
  val_t variable[4];
  void **closurevariable = NULL;
  trace.prev = tracehead; tracehead = &trace;
  trace.file = LOCATE_utils;
  variable[0] =  self;
  variable[3] = NEW_HashMap_hash___HashMap___init(); /*new HashMap[Char, String]*/
  variable[2] = variable[3];
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("plus"), TAG_Int(4)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('+'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("minus"), TAG_Int(5)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('-'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("star"), TAG_Int(4)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('*'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("slash"), TAG_Int(5)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('/'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("percent"), TAG_Int(7)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('%'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("bra"), TAG_Int(3)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('['), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("eq"), TAG_Int(2)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('='), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("l"), TAG_Int(1)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('<'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("g"), TAG_Int(1)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('>'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("n"), TAG_Int(1)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('!'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("u"), TAG_Int(1)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('_'), variable[3]) /*HashMap::[]=*/;
  variable[3] = NEW_String_string___String___with_native(BOX_NativeString("at"), TAG_Int(2)); /*new String*/
  CALL_abstract_collection___Map_____braeq( variable[2] /*res*/)( variable[2] /*res*/,  TAG_Char('@'), variable[3]) /*HashMap::[]=*/;
  variable[1] =  variable[2] /*res*/;
  goto return_label4;
  return_label4: while(false);
  tracehead = trace.prev;
  return variable[1];
}
